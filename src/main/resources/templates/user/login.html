<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
                xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
                layout:decorate="~{/layout/baseLayout}">

<head>
    <title>THISTLE</title>

    <th:block layout:fragment="css">
        <!-- Custom styles for this template -->
        <link href="/css/carousel.css" rel="stylesheet">
    </th:block>



</head>
<body>
<th:block layout:fragment="content">
<main role="main">

	<div class="container">
    <h1 class="mt-3 mb-4 text-center">THISTLE</h1>
    <div class="row">
        <div class="col">
            <div class="card card-info">
                <div class="card-header">
                <h3 class="card-title">로그인 폼</h3>
            </div>
                
                <!--id="joinForm"-->
            <form class="form-horizontal" id="loginForm" th:action="@{/user/login}" method="post">
            <div class="card-body">
                <div class="form-group row">
                    <label for="user_id" class="col-sm-4 col-form-label">아이디</label>
                    <div class="col-sm-8">
                        <input type="text" class="form-control" id="user_id" name="user_id" placeholder="아이디를 입력하세요." value="user01">
                    </div>
                    
                    </div>
                <div class="form-group row">
                    <label for="user_password" class="col-sm-4 col-form-label">비밀번호</label>
                    <div class="col-sm-8">
                        <input type="password" class="form-control" id="user_password" name="user_password" placeholder="비밀번호를 입력하세요." value="1234">
                    </div>
                </div>
            </div>
            
            <div class="card-footer text-center">
            	<div class="form-group row">
            		<div class="col-sm-6">
            			<a th:href="@{/oauth2/kakaologin}">
            				<img th:src="@{/img/sns/kakao_login_medium_wide.png}">
            			</a>
            		</div>
            		<div class="col-sm-6">
            			<a th:href="@{/oauth2/naverlogin}">
            				<img th:src="@{/img/sns/naver_login.png}" style="width:300px;height:45px">
            			</a>
            		</div>
                </div>
            </div>
            
            <div class="card-footer text-center">
            	<button type="submit" class="btn btn-info btn-block" id="btnJoin">Login</button>
            </div>
            
            </form>
            <div class="card-footer text-center">
              <a th:href="@{/user/join}">회원가입</a> <a th:href="@{/user/idfind}">아이디 찾기</a> <a th:href="@{/user/pwfind}">비밀번호 찾기</a>
            </div>
            </div>
        </div>
    </div>

  </div>

</main>
</th:block>

  <th:block layout:fragment="script">  
  <!-- 각각의 페이지에서 필요한 자바스크립트 작성 -->

	<!-- [[${msg}]]: rttr.addFlashAttribute("msg", msg); 에서 "msg"를 의미한다., "failPWD" or  "failID"가 존재한다. -->
  <script th:inline="javascript">
  
		 let msg = [[${msg}]]; 
		 if(msg == "failID") {
		    alert("아이디를 정확히 입력하세요");
		    document.getElementById("user_id").focus();
		 }else if(msg == "failPW") {
		    alert("비밀번호를 정확히 작성해주세요.");
		    document.getElementById("user_id").focus();
		 }else if(msg == "success") {
			 alert("아이디를 메일발송하였습니다.");
		 }
  

    </script>
</th:block>

</body>
</html>
